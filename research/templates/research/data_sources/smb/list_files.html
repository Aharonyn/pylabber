{% extends "research/data_sources/data_sources_nav.html" %}
{% load django_tables2 %}
{% load crispy_forms_tags %}
{% load static %}

{% block data-content %}

    <h4>Data Source Files</h4>
    {% comment %} <form id="searchForm">
        <input type="search" id="searchInput" />
        <button type="submit">Search</button>
    </form> {% endcomment %}

    <div id="treeView">

    </div>
    {% comment %} {% if filter %}
        <form action="" method="get" class="form form-inline">
            {% crispy filter.form filter.form.helper %}
        </form>
    {% endif %} {% endcomment %}

    {% comment %} <a href="{% url 'smb_archive_all' %}"><button class="btn btn-sm">Archive All</button></a> {% endcomment %}

    {% comment %} {% render_table table %} {% endcomment %}

{% endblock data-content %}

{% block extra-scripts %} 
    <script>
        $(function() {
        $('#treeView').jstree({
            'core' : {
            'data' : {
                "url" : "{% url 'smb:lazy_json' object.id %}",
                "data" : function (node) {
                return { "id" : node.id };
                }                
            }
            }
        });
        });            
    </script>
{% endblock extra-scripts %}
